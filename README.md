# MCP-—Å–µ—Ä–≤–µ—Ä –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º NAO –≤ Webots

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç —Ä–æ–±–æ—Ç–∞ NAO, —Å–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤ —Å—Ä–µ–¥–µ Webots, —Å **Model Context Protocol (MCP)**. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–æ–±–æ—Ç–æ–º –∏ –ø–æ–ª—É—á–∞—Ç—å –æ—Ç –Ω–µ–≥–æ –¥–∞–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é –±–æ–ª—å—à–∏—Ö —è–∑—ã–∫–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π (LLM), —Ç–∞–∫–∏—Ö –∫–∞–∫ Claude, —á–µ—Ä–µ–∑ –∫–ª–∏–µ–Ω—Ç—ã, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–µ MCP (–Ω–∞–ø—Ä–∏–º–µ—Ä, Claude Desktop).

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ü—Ä—è–º–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥ —Ä–æ–±–æ—Ç—É (–¥–≤–∏–∂–µ–Ω–∏–µ –≥–æ–ª–æ–≤—ã, —Ä—É–∫, —Ö–æ–¥—å–±–∞) –Ω–∞–ø—Ä—è–º—É—é –∏–∑ LLM.
- **–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**: –î–æ—Å—Ç—É–ø –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é —Ä–æ–±–æ—Ç–∞, –≤–∫–ª—é—á–∞—è –ø–æ–ª–æ–∂–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–æ–≤ –∏ –¥–∞–Ω–Ω—ã–µ —Å –∫–∞–º–µ—Ä—ã.
- **–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤ Webots —Å–∏—Å—Ç–µ–º–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –ø–æ–ª–µ –∑—Ä–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã.
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: MCP-—Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ Webots, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø—Ä—è–º–æ–µ –∏ –±—ã—Å—Ç—Ä–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫ –Ω–∞ —Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**: –ó–∞–ø—É—Å–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–º–µ—Å—Ç–µ —Å–æ —Å—Ç–∞—Ä—Ç–æ–º —Å–∏–º—É–ª—è—Ü–∏–∏ –≤ Webots.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

1.  `controllers/my_controller/my_controller.py`:
    - –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å—Ä–µ–¥–æ–π Webots.
    - –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤—Å—é –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—É—é –ª–æ–≥–∏–∫—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –º–æ—Ç–æ—Ä–æ–≤, –∫–∞–º–µ—Ä—ã, –∞–Ω–∏–º–∞—Ü–∏–π.
    - –°–æ–∑–¥–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å –∫–æ–º–∞–Ω–¥ (`queue.Queue`) –∏ —Å–ª–æ–≤–∞—Ä—å —Å–æ—Å—Ç–æ—è–Ω–∏—è (`dict`) –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ —Å MCP-—Å–µ—Ä–≤–µ—Ä–æ–º.
    - –ó–∞–ø—É—Å–∫–∞–µ—Ç MCP-—Å–µ—Ä–≤–µ—Ä –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ.
    - –í –æ—Å–Ω–æ–≤–Ω–æ–º —Ü–∏–∫–ª–µ —Å–∏–º—É–ª—è—Ü–∏–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–ª–æ–≤–∞—Ä—å —Å–æ—Å—Ç–æ—è–Ω–∏—è.

2.  `mcp_robot_server.py`:
    - –°–æ–¥–µ—Ä–∂–∏—Ç –∫–ª–∞—Å—Å `RobotMCPServer`, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –≤—Å—é –ª–æ–≥–∏–∫—É MCP-—Å–µ—Ä–≤–µ—Ä–∞ (`FastMCP`).
    - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –æ—á–µ—Ä–µ–¥—å –∫–æ–º–∞–Ω–¥ –∏ —Å–ª–æ–≤–∞—Ä—å —Å–æ—Å—Ç–æ—è–Ω–∏—è.
    - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç **–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (`@mcp.tool`)** –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `set_head_position`) –∏ **—Ä–µ—Å—É—Ä—Å—ã (`@mcp.resource`)** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `robot://status`).
    - –ü—Ä–∏ –≤—ã–∑–æ–≤–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å, –∏ —Å–µ—Ä–≤–µ—Ä –æ–∂–∏–¥–∞–µ—Ç —Å–∏–≥–Ω–∞–ª–∞ –æ –µ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞.

–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –º–µ–∂–¥—É –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞–ø—Ä—è–º—É—é –≤ –ø–∞–º—è—Ç–∏, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å.

## ‚öôÔ∏è –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

1.  **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Webots**: –ó–∞–ø—É—Å—Ç–∏—Ç–µ Webots –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –º–∏—Ä–∞ `worlds/test.wbt` –∏–∑ —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.
2.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–º—É–ª—è—Ü–∏—é**: –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Play" (‚ñ∂) –Ω–∞ –ø–∞–Ω–µ–ª–∏ —Å–∏–º—É–ª—è—Ü–∏–∏.
3.  **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫**: Webots –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä `my_controller.py` –¥–ª—è —Ä–æ–±–æ—Ç–∞ NAO.
4.  **–°–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤**: –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, –∑–∞–ø—É—Å—Ç–∏—Ç MCP-—Å–µ—Ä–≤–µ—Ä. –í –∫–æ–Ω—Å–æ–ª–∏ Webots –≤—ã —É–≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—à–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–æ–±–æ—Ç–∞ –∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞.
5.  **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫–ª–∏–µ–Ω—Ç–æ–º**: –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º—É MCP-—Å–µ—Ä–≤–µ—Ä—É –∏–∑ –ª—é–±–æ–≥–æ MCP-–∫–ª–∏–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Claude Desktop), —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–æ–±–æ—Ç–æ–º.

## üõ†Ô∏è –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Ä–µ—Å—É—Ä—Å—ã

–°–µ—Ä–≤–µ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º:

- `get_robot_status()`: –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–π —Å—Ç–∞—Ç—É—Å —Ä–æ–±–æ—Ç–∞.
- `set_head_position(yaw, pitch)`: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≥–æ–ª–æ–≤—ã.
- `set_arm_position(arm, shoulder_pitch, shoulder_roll)`: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ä—É–∫–∏.
- `start_head_scan()` / `stop_head_scan()`: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≥–æ–ª–æ–≤–æ–π.
- `get_recognized_objects()`: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.
- `reset_robot_pose()`: –°–±—Ä–æ—Å–∏—Ç—å –ø–æ–∑—É —Ä–æ–±–æ—Ç–∞.
- `toggle_walking()`: –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Ö–æ–¥—å–±—É.
- `get_robot_capabilities()`: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö —Ä–æ–±–æ—Ç–∞.

–ò —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `robot://status`).
